(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}var n=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=e.items,this._renderer=e.renderer,this._container=document.querySelector(n)}var n,r;return n=t,(r=[{key:"renderItems",value:function(){var t=this;this._items.forEach((function(e){t.addItem(e)}))}},{key:"addItem",value:function(t){this._container.prepend(this._renderer(t))}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===r(i)?i:String(i)),o)}var i}var i=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.link=n,this.templateSelector=r,this._handleCardClick=o}var e,n;return e=t,(n=[{key:"_handleButtonLike",value:function(){this._likeButton.classList.toggle("card__icon_active")}},{key:"_handleButtonDel",value:function(){this._element.remove()}},{key:"_getTemplate",value:function(){return document.querySelector(this.templateSelector).content.querySelector(".card").cloneNode(!0)}},{key:"render",value:function(){return this._element=this._getTemplate(),this._image=this._element.querySelector(".card__image"),this._likeButton=this._element.querySelector(".card__icon"),this._image.src=this.link,this._image.alt=this.name,this._element.querySelector(".card__title").textContent=this.name,this._setEventListeners(),this._element}},{key:"_setEventListeners",value:function(){var t=this;this._likeButton.addEventListener("click",(function(){t._handleButtonLike()})),this._element.querySelector(".card__delete").addEventListener("click",(function(){t._handleButtonDel()})),this._image.addEventListener("click",(function(){t._handleCardClick(t)}))}}])&&o(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function l(t,e,n){return(e=a(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t){var e=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===u(e)?e:String(e)}var s=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,"hidePopupErrors",(function(){r._inputList.forEach((function(t){r._hideError(t)})),r._toggleButtonState()})),l(this,"_showError",(function(t,e){var n=r._formElement.querySelector("#".concat(t.id,"-error"));t.classList.add(r._inputErrorClass),n.textContent=e,n.classList.add(r._errorClass)})),l(this,"_hideError",(function(t){var e=r._formElement.querySelector("#".concat(t.id,"-error"));t.classList.remove(r._inputErrorClass),e.classList.remove(r._errorClass),e.textContent=""})),l(this,"_deactivateButton",(function(){r._buttonElement.setAttribute("disabled",!0),r._buttonElement.classList.add(r._inactiveButtonClass)})),l(this,"_activateButton",(function(){r._buttonElement.removeAttribute("disabled"),r._buttonElement.classList.remove(r._inactiveButtonClass)})),l(this,"_toggleButtonState",(function(){r._hasInvalidInput()?r._deactivateButton():r._activateButton()})),l(this,"_hasInvalidInput",(function(){return r._inputList.some((function(t){return!t.validity.valid}))})),l(this,"_setEventListeners",(function(){r._inputList.forEach((function(t){t.addEventListener("input",(function(){r._checkInputValidity(t),r._toggleButtonState()}))}))})),l(this,"enableValidation",(function(){r._setEventListeners()})),this._inputSelector=e.inputSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._popupButtonSelector=e.popupButtonSelector,this._formElement=n,this._buttonElement=this._formElement.querySelector(this._popupButtonSelector),this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector))}var e,n;return e=t,(n=[{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideError(t):this._showError(t,t.validationMessage)}}])&&c(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==p(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===p(o)?o:String(o)),r)}var o}var y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}var e,n;return e=t,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._popup.querySelector(".popup__button-close").addEventListener("click",(function(){t.close()})),this._popup.addEventListener("click",(function(e){e.target===t._popup&&t.close()}))}}])&&f(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==m(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===m(o)?o:String(o)),r)}var o}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},d.apply(this,arguments)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_(r);if(o){var n=_(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._popupImg=e._popup.querySelector(".popupimage__image"),e._popupTitle=e._popup.querySelector(".popupimage__title"),e.setEventListeners(),e}return e=u,(n=[{key:"open",value:function(t,e){this._popupImg.src=e,this._popupImg.alt=t,this._popupTitle.textContent=t,d(_(u.prototype),"open",this).call(this)}}])&&b(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(y);function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==S(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===S(o)?o:String(o)),r)}var o}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=k(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},E.apply(this,arguments)}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=k(r);if(o){var n=k(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._submitCallback=e,n._form=n._popup.querySelector(".popup__form"),n._inputList=n._form.querySelectorAll(".popup__input"),n._submitButton=n._form.querySelector(".popup__button"),n._submitButtonText=n._submitButton.textContent,n.setEventListeners(),n}return e=u,(n=[{key:"_getInputValues",value:function(){var t={};return this._inputList.forEach((function(e){t[e.name]=e.value})),t}},{key:"setEventListeners",value:function(){var t=this;E(k(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._submitCallback(t._getInputValues()),t.close()}))}},{key:"close",value:function(){this._form.reset(),E(k(u.prototype),"close",this).call(this)}},{key:"renderLoading",value:function(t){this._submitButton.textContent=t?"Сохранение...":"Сохранить"}}])&&g(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(y);function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==O(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===O(o)?o:String(o)),r)}var o}var C={formSelector:".popup__form",inputSelector:".popup__input",popupButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},L=new(function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nameElement=document.querySelector(e),this._aboutElement=document.querySelector(n)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._nameElement.textContent,about:this._aboutElement.textContent}}},{key:"setUserInfo",value:function(t,e){this._nameElement.textContent=t,this._aboutElement.textContent=e}}])&&P(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}())(".profile__name",".profile__about"),q=document.querySelector("#imageCard"),B=(q.querySelector(".popupimage__title"),q.querySelector(".popupimage__image"),document.querySelector("#template").content.querySelector(".card"),document.querySelector(".elements"),document.querySelector("#popup-edit")),T=document.querySelector(".profile__edit-button"),x=B.querySelector(".popup__form"),I=(x.querySelector(".popup__input_type_name"),x.querySelector(".popup__input_type_about"),document.querySelector(".profile__add-button")),R=document.querySelector("#popup-add"),D=(R.querySelector(".popup__form"),new s(C,B)),V=new s(C,R);D.enableValidation(),V.enableValidation();var A=new h(".popupimage");function U(t){A.open(t.name,t.link)}var z=function(t){return new i(t.name,t.link,"#template",U).render()},M=new n({items:[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],renderer:z},".elements");M.renderItems();var N=new j("#popup-add",(function(t){M.addItem(z(t))})),F=new j("#popup-edit",(function(t){L.setUserInfo(t["profile-name"],t["profile-about"])}));T.addEventListener("click",(function(){F.open()})),I.addEventListener("click",(function(){N.open()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBYUMsY0FHYixJQUtNQyxFQUFnQixJQUFJckMsRUFBYyxjQUxkLFNBQUNzQyxHQUN6QkgsRUFBYXJILFFBQVFtSCxFQUFXSyxHQUNsQyxJQWNNQyxFQUFnQixJQUFJdkMsRUFBYyxlQUpWLFNBQUNzQyxHQUM3QnhCLEVBQW1CMEIsWUFBWUYsRUFBSyxnQkFBaUJBLEVBQUssaUJBQzVELElBUUFmLEVBQWVwRixpQkFBaUIsU0FKaEMsV0FDRW9HLEVBQWNQLE1BQ2hCLElBR0FQLEVBQVd0RixpQkFBaUIsU0FoQjVCLFdBQ0VrRyxFQUFjTCxNQUNoQixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3Iob2JqLCBzZWxlY3Rvcikge1xuICAgIHRoaXMuX2l0ZW1zID0gb2JqLml0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gb2JqLnJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpOyAvL9C+0L/RgNC10LTQtdC70Y/QtdC8INC80LXRgdGC0L4g0L3QsCDRgdGC0YDQsNC90LjRhtC1LCDQuNGJ0LXQvCDRjdC70LXQvNC10L3RgiDQsiBET00g0LTQtdGA0LXQstC1XG4gIH1cblxuICAvL9C40YLQtdGA0LjRgNGD0LXRgtGB0Y8g0L/QviDQutCw0LbQtNC+0LzRgyDRjdC70LXQvNC10L3RgtGDINCyINC80LDRgdGB0LjQstC1XG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuYWRkSXRlbShpdGVtKTtcbiAgICB9KTtcbiAgfVxuICAvL9GB0L7Qt9C00LDQtdGCIEhUTUwg0Y3Qu9C10LzQtdC90YIsINGB0L7QvtGC0LLQtdGC0YHRgtCy0YPRjtGJ0LjQuSDQv9C10YDQtdC00LDQvdC90L7QvNGDINGN0LvQtdC80LXQvdGC0YMg0LzQsNGB0YHQuNCy0LBcbiAgYWRkSXRlbShpdGVtKSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQodGhpcy5fcmVuZGVyZXIoaXRlbSkpOyAvL9C00L7QsdCw0LLQu9GP0LXQvCDRgdC+0LfQtNCw0L3QvdGL0Lkg0Y3Qu9C10LzQtdC90YIg0LIg0L3QsNGH0LDQu9C+XG4gIH1cbn1cbiIsImNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihuYW1lLCBsaW5rLCB0ZW1wbGF0ZVNlbGVjdG9yLCBoYW5kbGVDYXJkQ2xpY2spIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lOyAvLyDQuNC80Y8g0LjQtyDQvNCw0YHRgdC40LLQsFxuICAgIHRoaXMubGluayA9IGxpbms7IC8vINGB0YHRi9C70LrQsCDQuNC3INC80LDRgdGB0LjQstCwXG4gICAgdGhpcy50ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjsgLy8g0KHQtdC70LXQutGC0L7RgCB0ZW1wbGF0ZS3RjdC70LXQvNC10L3RgtCwINGBINGI0LDQsdC70L7QvdC+0Lwg0LrQsNGA0YLQvtGH0LrQuFxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljazsgLy/RhNGD0L3QutGG0LjRj1xuICB9XG5cbiAgLy/QuNC30LzQtdC90Y/QtdGCINC70LDQudC6INC90LAg0LDQutGC0LjQstC90YvQuVxuICBfaGFuZGxlQnV0dG9uTGlrZSgpIHtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19pY29uX2FjdGl2ZVwiKTtcbiAgfVxuXG4gIC8v0YPQtNCw0LvRj9C10Lwg0LrQsNGA0YLQvtGH0LrRg1xuICBfaGFuZGxlQnV0dG9uRGVsKCkge1xuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gIH1cblxuICAvL9C/0L7Qu9GD0YfQsNC10Lwg0YjQsNCx0LvQvtC9INC60LDRgNGC0L7Rh9C60LhcbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMudGVtcGxhdGVTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH1cblxuICAvL9C90L7QstCw0Y8g0LrQsNGA0YLQvtGH0LrQsFxuICByZW5kZXIoKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7IC8v0YHRgtGA0YPQutGC0YPRgNCwINC60LDRgNGC0L7Rh9C60LhcbiAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTsgLy/QvdCw0YXQvtC00LjQvCDQuNC30L7QsdGA0LDQttC10L3QuNC1XG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pY29uXCIpOyAvL9C90LDRhdC+0LbQuNC8INC40LrQvtC90LrRgyDQu9Cw0LnQuiDQuCDQv9GA0LjRgdCy0LDQuNCy0LDQtdC8XG4gICAgdGhpcy5faW1hZ2Uuc3JjID0gdGhpcy5saW5rOyAvL9GB0YHRi9C70LrQsCDQvNCw0YHRgdC40LLQsCDQuCDQv9GA0LjRgdCy0LDQuNCy0LDQtdC8XG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gdGhpcy5uYW1lOyAvL9C40LzRjyDQuNC3INC80LDRgdC40LjQstCwINC4INC/0YDQuNGB0LLQsNC40LLQsNC10LxcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIikudGV4dENvbnRlbnQgPSB0aGlzLm5hbWU7IC8v0L3QsNGF0L7QtNC40Lwg0LfQsNCz0L7Qu9C+0LLQvtC6ICDQuCDQv9GA0LjRgdCy0LDQuNCy0LDQtdC8XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTsgLy/RgdC70YPRiNCw0YLQtdC70YxcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDsgLy/QstC+0LfQstGA0LDRidCw0LXQvCDQutCw0YDRgtC+0YfQutGDINGBINC00LDQvdC90YvQvNC4XG4gIH1cblxuICAvL9GB0LvRg9GI0LDRgtC10LvRjCDRgdC+0LHRi9GC0LjQuVxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQnV0dG9uTGlrZSgpOyAvLyAg0LvQsNC50Log0LIg0LrQsNGA0YLQvtGH0LrQtVxuICAgIH0pO1xuXG4gICAgdGhpcy5fZWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlQnV0dG9uRGVsKCk7IC8v0YPQtNCw0LvRj9C10Lwg0LrQsNGA0YLQvtGH0LrRg1xuICAgICAgfSk7XG5cbiAgICB0aGlzLl9pbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMpO1xuICAgIH0pO1xuICB9XG59XG5cbi8v0Y3QutGB0L/QvtGA0YIg0LzQvtC00YPQu9GPIENhcmRcbmV4cG9ydCB7IENhcmQgfTtcbiIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XG4gICAgdGhpcy5fcG9wdXBCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnBvcHVwQnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuX3BvcHVwQnV0dG9uU2VsZWN0b3JcbiAgICApO1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXG4gICAgKTtcbiAgfVxuXG4gIGhpZGVQb3B1cEVycm9ycyA9ICgpID0+IHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlRXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICB9O1xuXG4gIC8v0L7RgtC+0LHRgNCw0LbQsNC10Lwg0YHQvtC+0LHRidC10L3QuNC1INC+0LEg0L7RiNC40LHQutC1XG4gIF9zaG93RXJyb3IgPSAoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpID0+IHtcbiAgICBjb25zdCBmb3JtRXJyb3IgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGZvcm1FcnJvci50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgICBmb3JtRXJyb3IuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfTtcblxuICAvL9GB0LrRgNGL0LLQsNC10Lwg0YHQvtC+0LHRidC10L3QuNC1INC+0LEg0L7RiNC40LHQutC1XG4gIF9oaWRlRXJyb3IgPSAoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgY29uc3QgZm9ybUVycm9yID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBmb3JtRXJyb3IuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgICBmb3JtRXJyb3IudGV4dENvbnRlbnQgPSBcIlwiO1xuICB9O1xuXG4gIC8v0LTQtdCw0LrRgtC40LLQuNGA0YPQtdC8INC60L3QvtC/0LrRgyDQvtGC0L/RgNCw0LLQutC4INGE0L7RgNC80YtcbiAgX2RlYWN0aXZhdGVCdXR0b24gPSAoKSA9PiB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gIH07XG5cbiAgLy/QsNC60YLQuNCy0LjRgNGD0LXQvCDQutC90L7Qv9C60YMg0L7RgtC/0YDQsNCy0LrQuCDRhNC+0YDQvNGLXG4gIF9hY3RpdmF0ZUJ1dHRvbiA9ICgpID0+IHtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgfTtcblxuICAvL9GA0LDQsdC+0YLQsCDQutC90L7Qv9C60Lggc3VtYml0XG4gIF90b2dnbGVCdXR0b25TdGF0ZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuX2RlYWN0aXZhdGVCdXR0b24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYWN0aXZhdGVCdXR0b24oKTtcbiAgICB9XG4gIH07XG5cbiAgLy8g0L/RgNC+0LLQtdGA0LrQsCDQvdCwINCy0LDQu9C40LTQvdC+0YHRgtGMINC/0L7Qu9C10LlcbiAgX2hhc0ludmFsaWRJbnB1dCA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH07XG5cbiAgLy/RgtC10LrRgdGC0Ysg0L7RiNC40LHQvtC6INC/0L7Qu9C10LkgKNC00L7QsdCw0LLQu9C10L3QuNC1LCDRg9C00LDQu9C10L3QuNC1KVxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlRXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICAvL9GB0LvRg9GI0LDRgtC10LvRjCDRgdC+0LHRi9GC0LjQuVxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy/QstCw0LvQuNC00LDRhtC40Y9cbiAgZW5hYmxlVmFsaWRhdGlvbiA9ICgpID0+IHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9O1xufVxuXG4vL9GN0LrRgdC/0L7RgNGCINGE0L7RgNC80Ysg0LLQsNC70LjQtNCw0YbQuNC4XG5leHBvcnQgeyBGb3JtVmFsaWRhdG9yIH07XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gIH1cblxuICAvL9C+0YLQutGA0YvQstCw0LXQvCDQv9C+0L/QsNC/LCDQtNC+0LHQsNCy0LvRj9GPINC60LvQsNGB0YFcbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIC8v0LfQsNC60YDRi9Cy0LDQtdC8INC/0L7Qv9Cw0L8sINGD0LTQsNC70Y/RjyDQutC70LDRgdGBXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgLy/QvtCx0YDQsNCx0LDRgtGL0LLQsNC10Lwg0YHQvtCx0YvRgtC40LVcbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgLy/QtNC+0LHQsNCy0LvRj9C10Lwg0L7QsdGA0LDQsdC+0YLRh9C40Log0YHQvtCx0YvRgtC40Y8g0L3QsCDQutC90L7Qv9C60YMg0LfQsNC60YDRi9GC0LjRjyDQuCDQvdCwINC60LvQuNC6INCy0L3QtSDQv9C+0L/QsNC/0LBcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgY2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b24tY2xvc2VcIik7XG4gICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoZXZ0LnRhcmdldCA9PT0gdGhpcy5fcG9wdXApIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yKSB7XG4gICAgc3VwZXIoc2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwSW1nID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cGltYWdlX19pbWFnZVwiKTtcbiAgICB0aGlzLl9wb3B1cFRpdGxlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cGltYWdlX190aXRsZVwiKTtcbiAgICB0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICAvL9C+0YLQutGA0YvQstCw0LXRgiDQv9C+0L/QsNC/INGBINC40LfQvtCx0YDQsNC20LXQvdC40LXQvCwg0LjRgdC/0L7Qu9GM0LfRg9GPINC/0LXRgNC10LTQsNC90L3Ri9C1INC/0LDRgNCw0LzQtdGC0YDRi1xuICBvcGVuKG5hbWUsIGxpbmspIHtcbiAgICB0aGlzLl9wb3B1cEltZy5zcmMgPSBsaW5rO1xuICAgIHRoaXMuX3BvcHVwSW1nLmFsdCA9IG5hbWU7XG4gICAgdGhpcy5fcG9wdXBUaXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3IsIHN1Ym1pdENhbGxiYWNrKSB7XG4gICAgc3VwZXIoc2VsZWN0b3IpO1xuICAgIHRoaXMuX3N1Ym1pdENhbGxiYWNrID0gc3VibWl0Q2FsbGJhY2s7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvblwiKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25UZXh0ID0gdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50O1xuICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIC8v0LLQvtC30LLRgNCw0YnQsNC10Lwg0L7QsdGK0LXQutGCINGB0L4g0LfQvdCw0YfQtdC90LjRj9C80Lgg0L/QvtC70LXQuSDQstCy0L7QtNCwINGE0L7RgNC80YtcbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBpbnB1dFZhbHVlcztcbiAgfVxuXG4gIC8vINGD0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdC8INGB0LvRg9GI0LDRgtC10LvRjCDRgdC+0LHRi9GC0LjQuSDQvdCwINC+0YLQv9GA0LDQstC60YMg0YTQvtGA0LzRi1xuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX3N1Ym1pdENhbGxiYWNrKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgLy/RgdCx0YDQsNGB0YvQstCw0LXQvCDQt9C90LDRh9C10L3QuNGPINC/0L7Qu9C10Lkg0LLQstC+0LTQsCDRhNC+0YDQvNGLXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcbiAgICBzdXBlci5jbG9zZSgpO1xuICB9XG5cbiAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcpIHtcbiAgICBpZihpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QtdC90LjQtS4uLic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QuNGC0YwnO1xuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IHNldHRpbmdzID0ge1xyXG4gICAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxyXG4gICAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXHJcbiAgICBwb3B1cEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fYnV0dG9uXCIsXHJcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25fZGlzYWJsZWRcIixcclxuICAgIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gICAgZXJyb3JDbGFzczogXCJwb3B1cF9fZXJyb3JfdmlzaWJsZVwiLFxyXG4gIH07XHJcbiAgXHJcbiAgZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICAgIHtcclxuICAgICAgbmFtZTogXCLQkNGA0YXRi9C3XCIsXHJcbiAgXHJcbiAgICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2Fya2h5ei5qcGdcIixcclxuICAgIH0sXHJcbiAgXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwi0KfQtdC70Y/QsdC40L3RgdC60LDRjyDQvtCx0LvQsNGB0YLRjFwiLFxyXG4gIFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9jaGVseWFiaW5zay1vYmxhc3QuanBnXCIsXHJcbiAgICB9LFxyXG4gIFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcItCY0LLQsNC90L7QstC+XCIsXHJcbiAgXHJcbiAgICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2l2YW5vdm8uanBnXCIsXHJcbiAgICB9LFxyXG4gIFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcItCa0LDQvNGH0LDRgtC60LBcIixcclxuICBcclxuICAgICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2FtY2hhdGthLmpwZ1wiLFxyXG4gICAgfSxcclxuICBcclxuICAgIHtcclxuICAgICAgbmFtZTogXCLQpdC+0LvQvNC+0LPQvtGA0YHQutC40Lkg0YDQsNC50L7QvVwiLFxyXG4gIFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9raG9sbW9nb3Jza3ktcmF5b24uanBnXCIsXHJcbiAgICB9LFxyXG4gIFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcItCR0LDQudC60LDQu1wiLFxyXG4gIFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9iYWlrYWwuanBnXCIsXHJcbiAgICB9LFxyXG4gIF07XHJcbiAgIiwiaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCB7IGluaXRpYWxDYXJkcyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcblxyXG5jb25zdCB1c2VySW5mb0NvbnRyb2xsZXIgPSBuZXcgVXNlckluZm8oXCIucHJvZmlsZV9fbmFtZVwiLCBcIi5wcm9maWxlX19hYm91dFwiKTtcclxuY29uc3QgY2FyZFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbWFnZUNhcmRcIik7XHJcbmNvbnN0IGNhcmRQb3B1cENpdHkgPSBjYXJkUG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cGltYWdlX190aXRsZVwiKTtcclxuY29uc3QgY2FyZFBvcHVwSW1nID0gY2FyZFBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBpbWFnZV9faW1hZ2VcIik7XHJcbmNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50XHJcbiAgLnF1ZXJ5U2VsZWN0b3IoXCIjdGVtcGxhdGVcIilcclxuICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIik7XHJcbmNvbnN0IGNhcmRzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c1wiKTtcclxuY29uc3QgcHJvZmlsZVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3B1cC1lZGl0XCIpO1xyXG5jb25zdCBwcm9maWxlRWRpdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XHJcbmNvbnN0IHByb2ZpbGVQb3B1cEZvcm0gPSBwcm9maWxlUG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuY29uc3QgcHJvZmlsZU5hbWVJbnB1dCA9IHByb2ZpbGVQb3B1cEZvcm0ucXVlcnlTZWxlY3RvcihcclxuICBcIi5wb3B1cF9faW5wdXRfdHlwZV9uYW1lXCJcclxuKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVBYm91dElucHV0ID0gcHJvZmlsZVBvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLnBvcHVwX19pbnB1dF90eXBlX2Fib3V0XCJcclxuKTtcclxuY29uc3QgY2FyZEFkZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcclxuY29uc3QgY2FyZEFkZFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3B1cC1hZGRcIik7XHJcbmNvbnN0IGNhcmRBZGRQb3B1cEZvcm0gPSBjYXJkQWRkUG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuY29uc3QgdmFsaWRhdG9yUHJvZmlsZSA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCBwcm9maWxlUG9wdXApO1xyXG5jb25zdCB2YWxpZGF0b3JFZGl0ID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIGNhcmRBZGRQb3B1cCk7XHJcbnZhbGlkYXRvclByb2ZpbGUuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG52YWxpZGF0b3JFZGl0LmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbi8v0LLRi9C30YvQstCw0LXRgtGB0Y8g0L/RgNC4INC60LvQuNC60LUg0L3QsCDQutCw0YDRgtC+0YfQutGDXHJcbmNvbnN0IHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLnBvcHVwaW1hZ2VcIik7XHJcbmZ1bmN0aW9uIGhhbmRsZUNhcmRDbGljayhjYXJkKSB7IFxyXG4gICAgcG9wdXBXaXRoSW1hZ2Uub3BlbihjYXJkLm5hbWUsIGNhcmQubGluayk7XHJcbn1cclxuXHJcbmNvbnN0IGNhcmRzQ29udGFpbmVyU2VsZWN0b3IgPSBcIi5lbGVtZW50c1wiO1xyXG5cclxuY29uc3QgcmVuZGVyQ2FyZCA9IChpdGVtKSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGl0ZW0ubmFtZSwgaXRlbS5saW5rLCBcIiN0ZW1wbGF0ZVwiLCBoYW5kbGVDYXJkQ2xpY2spO1xyXG4gIHJldHVybiBjYXJkLnJlbmRlcigpO1xyXG59O1xyXG5cclxuY29uc3QgY2FyZHNTZWN0aW9uID0gbmV3IFNlY3Rpb24oXHJcbiAgeyBpdGVtczogaW5pdGlhbENhcmRzLCByZW5kZXJlcjogcmVuZGVyQ2FyZCB9LFxyXG4gIGNhcmRzQ29udGFpbmVyU2VsZWN0b3JcclxuKTtcclxuXHJcbmNhcmRzU2VjdGlvbi5yZW5kZXJJdGVtcygpO1xyXG5cclxuLy9BZGQgZm9ybVxyXG5jb25zdCBzdWJtaXRBZGRDYWxsYmFjayA9IChkYXRhKSA9PiB7XHJcbiAgY2FyZHNTZWN0aW9uLmFkZEl0ZW0ocmVuZGVyQ2FyZChkYXRhLCBcIiN0ZW1wbGF0ZVwiLCBoYW5kbGVDYXJkQ2xpY2spKTtcclxufTtcclxuXHJcbi8vINCy0YvQt9GL0LLQsNC10YLRgdGPINC/0YDQuCDQvdCw0LbQsNGC0LjQuCDQvdCwINC60L3QvtC/0LrRg1xyXG5jb25zdCBwb3B1cFdpdGhGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjcG9wdXAtYWRkXCIsIHN1Ym1pdEFkZENhbGxiYWNrKTtcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUFkZENsaWNrKCkge1xyXG4gIHBvcHVwV2l0aEZvcm0ub3BlbigpO1xyXG59XHJcblxyXG5cclxuY29uc3Qgc3VibWl0UHJvZmlsZUNhbGxiYWNrID0gKGRhdGEpID0+IHtcclxuICB1c2VySW5mb0NvbnRyb2xsZXIuc2V0VXNlckluZm8oZGF0YVtcInByb2ZpbGUtbmFtZVwiXSwgZGF0YVtcInByb2ZpbGUtYWJvdXRcIl0pO1xyXG59O1xyXG5cclxuY29uc3QgcG9wdXBXaXRoRWRpdCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI3BvcHVwLWVkaXRcIiwgc3VibWl0UHJvZmlsZUNhbGxiYWNrKTtcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVFZGl0KCkge1xyXG4gIHBvcHVwV2l0aEVkaXQub3BlbigpO1xyXG59XHJcblxyXG5wcm9maWxlRWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUHJvZmlsZUVkaXQpO1xyXG5jYXJkQWRkQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVBZGRDbGljayk7XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IobmFtZVNlbGVjdG9yLCBhYm91dFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fbmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fYWJvdXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhYm91dFNlbGVjdG9yKTtcbiAgfVxuXG4gIC8v0LLQvtC30LLRgNCw0YnQsNC10Lwg0L7QsdGK0LXQutGCINGBINC00LLRg9C80Y8g0YHQstC+0LnRgdGC0LLQsNC80LhcbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50LFxuICAgICAgYWJvdXQ6IHRoaXMuX2Fib3V0RWxlbWVudC50ZXh0Q29udGVudCxcbiAgICB9O1xuICB9XG5cbiAgLy/Rg9GB0YLQsNC90LDQstC70LjQstCw0LXQvCDRgtC10LrRgdGC0L7QstC+0LUg0YHQvtC00LXRgNC20LjQvNC+0LUg0LIg0YHQvtC+0YLQstC10YLRgdGC0LLQuNC4INGBINC/0LXRgNC10LTQsNC90L3Ri9C80Lgg0LDRgNCz0YPQvNC10L3RgtCw0LzQuFxuICBzZXRVc2VySW5mbyhuYW1lLCBhYm91dCkge1xuICAgIHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9hYm91dEVsZW1lbnQudGV4dENvbnRlbnQgPSBhYm91dDtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlNlY3Rpb24iLCJvYmoiLCJzZWxlY3RvciIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfaXRlbXMiLCJpdGVtcyIsIl9yZW5kZXJlciIsInJlbmRlcmVyIiwiX2NvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImtleSIsInZhbHVlIiwiX3RoaXMiLCJmb3JFYWNoIiwiaXRlbSIsImFkZEl0ZW0iLCJwcmVwZW5kIiwiQ2FyZCIsIm5hbWUiLCJsaW5rIiwidGVtcGxhdGVTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfbGlrZUJ1dHRvbiIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIl9lbGVtZW50IiwicmVtb3ZlIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9nZXRUZW1wbGF0ZSIsIl9pbWFnZSIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVCdXR0b25MaWtlIiwiX2hhbmRsZUJ1dHRvbkRlbCIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5ncyIsImZvcm1FbGVtZW50IiwiX2RlZmluZVByb3BlcnR5IiwiX2lucHV0TGlzdCIsImlucHV0RWxlbWVudCIsIl9oaWRlRXJyb3IiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJlcnJvck1lc3NhZ2UiLCJmb3JtRXJyb3IiLCJfZm9ybUVsZW1lbnQiLCJjb25jYXQiLCJpZCIsImFkZCIsIl9pbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsIl9idXR0b25FbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJyZW1vdmVBdHRyaWJ1dGUiLCJfaGFzSW52YWxpZElucHV0IiwiX2RlYWN0aXZhdGVCdXR0b24iLCJfYWN0aXZhdGVCdXR0b24iLCJzb21lIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9wb3B1cEJ1dHRvblNlbGVjdG9yIiwicG9wdXBCdXR0b25TZWxlY3RvciIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc2hvd0Vycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJQb3B1cCIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0IiwiY2xvc2UiLCJ0YXJnZXQiLCJQb3B1cFdpdGhJbWFnZSIsIl9Qb3B1cCIsIl9pbmhlcml0cyIsIl9zdXBlciIsImNhbGwiLCJfcG9wdXBJbWciLCJfcG9wdXBUaXRsZSIsInNldEV2ZW50TGlzdGVuZXJzIiwiX2dldCIsIl9nZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsIlBvcHVwV2l0aEZvcm0iLCJzdWJtaXRDYWxsYmFjayIsIl9zdWJtaXRDYWxsYmFjayIsIl9mb3JtIiwiX3N1Ym1pdEJ1dHRvbiIsIl9zdWJtaXRCdXR0b25UZXh0IiwiaW5wdXRWYWx1ZXMiLCJpbnB1dCIsIl90aGlzMiIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJpc0xvYWRpbmciLCJmb3JtU2VsZWN0b3IiLCJ1c2VySW5mb0NvbnRyb2xsZXIiLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImFib3V0U2VsZWN0b3IiLCJfbmFtZUVsZW1lbnQiLCJfYWJvdXRFbGVtZW50IiwiYWJvdXQiLCJjYXJkUG9wdXAiLCJwcm9maWxlUG9wdXAiLCJwcm9maWxlRWRpdEJ0biIsInByb2ZpbGVQb3B1cEZvcm0iLCJjYXJkQWRkQnRuIiwiY2FyZEFkZFBvcHVwIiwidmFsaWRhdG9yUHJvZmlsZSIsInZhbGlkYXRvckVkaXQiLCJlbmFibGVWYWxpZGF0aW9uIiwicG9wdXBXaXRoSW1hZ2UiLCJjYXJkIiwib3BlbiIsInJlbmRlckNhcmQiLCJyZW5kZXIiLCJjYXJkc1NlY3Rpb24iLCJyZW5kZXJJdGVtcyIsInBvcHVwV2l0aEZvcm0iLCJkYXRhIiwicG9wdXBXaXRoRWRpdCIsInNldFVzZXJJbmZvIl0sInNvdXJjZVJvb3QiOiIifQ==